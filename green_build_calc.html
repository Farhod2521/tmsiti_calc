<!DOCTYPE html>
<html lang="en">


<!-- Mirrored from madebydesignesia.com/themes/coolair/project-single.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 03 Oct 2025 05:13:57 GMT -->
<head>
    <title>CoolAir — Air Conditioner & HVAC Repair Website Template</title>
    <link rel="icon" href="images/icon.png" type="image/gif" sizes="16x16">
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1.0" name="viewport" >
    <meta content="CoolAir — Air Conditioner & HVAC Repair Website Template" name="description" >
    <meta content="" name="keywords" >
    <meta content="" name="author" >
    <!-- CSS Files
    ================================================== -->
    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css" id="bootstrap">
    <link href="css/plugins.css" rel="stylesheet" type="text/css" >
    <link href="css/swiper.css" rel="stylesheet" type="text/css" >
    <link href="css/style.css" rel="stylesheet" type="text/css" >
    <link href="css/coloring.css" rel="stylesheet" type="text/css" >
    <!-- color scheme -->
    <link id="colors" href="css/colors/scheme-01.css" rel="stylesheet" type="text/css" >
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
        }
        
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .category-card {
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            transition: transform 0.3s;
            border: none;
            overflow: hidden;
            cursor: pointer;
        }
        
        .category-card:hover {
            transform: translateY(-5px);
        }
        
        .category-header {
            padding: 15px 20px;
            color: white;
            font-weight: bold;
            display: flex;
            align-items: center;
        }
        
        .category-icon {
            font-size: 24px;
            margin-right: 10px;
        }
        
        .question-container {
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .progress-container {
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        
        .result-container {
            background-color: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .gauge-container {
            position: relative;
            width: 300px;
            height: 150px;
            margin: 0 auto 20px;
        }
        
        .gauge-background {
            position: absolute;
            width: 300px;
            height: 150px;
            border-radius: 150px 150px 0 0;
            background: #e0e0e0;
            overflow: hidden;
        }
        
        .gauge-fill {
            position: absolute;
            width: 300px;
            height: 150px;
            border-radius: 150px 150px 0 0;
            background: linear-gradient(to right, #e74c3c, #f39c12, #2ecc71);
            clip-path: polygon(0 100%, 100% 100%, 100% 0, 0 0);
            transform-origin: center bottom;
            transform: rotate(0deg);
            transition: transform 1.5s ease-in-out;
        }
        
        .gauge-mask {
            position: absolute;
            width: 200px;
            height: 100px;
            background: white;
            border-radius: 100px 100px 0 0;
            bottom: 0;
            left: 50px;
        }
        
        .gauge-needle {
            position: absolute;
            width: 4px;
            height: 120px;
            background: var(--primary-color);
            bottom: 0;
            left: 148px;
            transform-origin: bottom center;
            transform: rotate(0deg);
            transition: transform 1.5s ease-in-out;
            z-index: 10;
        }
        
        .gauge-center {
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--primary-color);
            border-radius: 50%;
            bottom: 0;
            left: 140px;
            z-index: 11;
        }
        
        .gauge-marks {
            position: absolute;
            width: 300px;
            height: 150px;
        }
        
        .gauge-mark {
            position: absolute;
            width: 2px;
            height: 10px;
            background: var(--primary-color);
            bottom: 0;
            left: 149px;
            transform-origin: bottom center;
        }
        
        .gauge-label {
            position: absolute;
            font-size: 12px;
            transform-origin: bottom center;
            text-align: center;
            width: 40px;
            bottom: 15px;
        }
        
        .grade-label {
            font-size: 24px;
            font-weight: bold;
            margin-top: 10px;
        }
        
        .score-display {
            font-size: 36px;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .hidden {
            display: none;
        }
        
        .btn-next, .btn-prev {
            border-radius: 50px;
            padding: 10px 25px;
            font-weight: bold;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .category-progress {
            height: 8px;
            margin-top: 10px;
        }
        
        .step-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        
        .step {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #dee2e6;
            margin: 0 5px;
        }
        
        .step.active {
            background-color: var(--secondary-color);
        }
        
        .step.completed {
            background-color: var(--success-color);
        }
        
        .category-list {
            max-height: 500px;
            overflow-y: auto;
        }
        
        .category-item {
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .category-item:hover {
            background-color: #f8f9fa;
        }
        
        .category-item.active {
            background-color: #e3f2fd;
            border-left: 4px solid var(--secondary-color);
        }
        
        .final-results {
            text-align: center;
            padding: 40px 20px;
        }
        
        .final-score {
            font-size: 48px;
            font-weight: bold;
            color: var(--primary-color);
            margin: 20px 0;
        }
        
        .final-grade {
            font-size: 36px;
            font-weight: bold;
            margin: 20px 0;
            padding: 10px 30px;
            border-radius: 50px;
            display: inline-block;
        }
        
        .grade-A { background-color: #2ecc71; color: white; }
        .grade-B { background-color: #3498db; color: white; }
        .grade-C { background-color: #f39c12; color: white; }
        .grade-D { background-color: #e67e22; color: white; }
        .grade-E { background-color: #e74c3c; color: white; }
        .grade-F { background-color: #c0392b; color: white; }
        .grade-G { background-color: #7f8c8d; color: white; }
    </style>
</head>

<body>
    <div id="wrapper">
        <div class="float-text show-on-scroll">
            <span><a href="#">Scroll to top</a></span>
        </div>
        <div class="scrollbar-v show-on-scroll"></div>
        
        <!-- page preloader begin -->
        <div id="de-loader"></div>
        <!-- page preloader close -->

        <!-- header begin -->
        <header class="header-light transparent scroll-light has-topbar">
            <div id="topbar">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="d-flex justify-content-between xs-hide">
                                <div class="header-widget d-flex">
                                    <div class="topbar-widget"><a href="#"><i class="icofont-phone"></i>+929 333 9296</a></div>
                                    <div class="topbar-widget"><a href="#"><i class="icofont-envelope"></i>contact@coolair.com</a></div>
                                    <div class="topbar-widget"><a href="#"><i class="icofont-wall-clock"></i>Mon - Fri 08.00 - 18.00</a></div>
                                </div>

                                <div class="social-icons">
                                    <a href="#"><i class="fa-brands fa-facebook fa-lg"></i></a>
                                    <a href="#"><i class="fa-brands fa-x-twitter fa-lg"></i></a>
                                    <a href="#"><i class="fa-brands fa-youtube fa-lg"></i></a>
                                    <a href="#"><i class="fa-brands fa-pinterest fa-lg"></i></a>
                                    <a href="#"><i class="fa-brands fa-instagram fa-lg"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="de-flex sm-pt10">
                            <div class="de-flex-col">
                                <!-- logo begin -->
                                <div id="logo">
                                    <a href="index.html">
                                        <img class="logo-main" src="images/logo-black.webp" alt="" >
                                        <img class="logo-scroll" src="images/logo-black.webp" alt="" >
                                        <img class="logo-mobile" src="images/logo-black.webp" alt="" >
                                    </a>
                                </div>
                                <!-- logo close -->
                            </div>
                            <div class="de-flex-col header-col-mid">
                                <ul id="mainmenu">
                                    <li><a class="menu-item" href="#">Bosh sahifa</a>
                             
                                    </li>
                      
                                    <li><a class="menu-item" href="/">Biz haqimizda</a></li>
                                    <li><a class="menu-item" href="/">Loyihalar</a>
                          
                                    </li>
                                    <li><a class="menu-item" href="/">Blog</a></li>
                       
                                </ul>
                            </div>
                            <div class="de-flex-col">
                                <div class="menu_side_area">          
                                    <a href="/" class="btn-main bg-color-2">Bog'lanish</a>
                                    <span id="menu-btn"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- header close -->
        <!-- content begin -->
        <div class="no-bottom no-top" id="content">
            <div id="top"></div>
            <!-- section begin -->
            <section id="subheader2">
                <div class="container relative z-index">
                    <div class="row align-items-center">
                        <div class="col-lg-6 offset-lg-3 text-center">
                
                            <h1>Yashil qurilish kalkulyatori</h1>
                        </div>
                    </div>
                </div>
            </section>
            <!-- section close -->


    <div class="container py-5">
        <div class="row">
            <div class="col-12 text-center mb-4">
                <p class="lead" id="current-category">Kategoriyani tanlang</p>
            </div>
        </div>
        
        <div class="row">
            <div class="col-lg-8">
                <div class="progress-container">
                    <div class="d-flex justify-content-between mb-2">
                        <span>Umumiy Progress</span>
                        <span id="progress-percent">0%</span>
                    </div>
                    <div class="progress" style="height: 10px;">
                        <div id="progress-bar" class="progress-bar" role="progressbar" style="width: 0%;" 
                             aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </div>
                
                <div class="step-indicator" id="step-indicator">
                    <!-- Qadamlar indikatori bu yerda yaratiladi -->
                </div>
                
                <div id="question-container">
                    <!-- Savollar bu yerda ko'rsatiladi -->
                </div>
                
                <div class="nav-buttons">
                    <button id="prev-btn" class="btn btn-outline-primary btn-prev" disabled>
                        <i class="bi bi-arrow-left"></i> Oldingi
                    </button>
                    <button id="next-btn" class="btn btn-primary btn-next">
                        Keyingi <i class="bi bi-arrow-right"></i>
                    </button>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="result-container">
                    <h4 class="mb-4">Natijalar</h4>
                    <div class="gauge-container">
                        <div class="gauge-background"></div>
                        <div class="gauge-fill" id="gauge-fill"></div>
                        <div class="gauge-mask"></div>
                        <div class="gauge-marks" id="gauge-marks"></div>
                        <div class="gauge-needle" id="gauge-needle"></div>
                        <div class="gauge-center"></div>
                    </div>
                    <div class="score-display" id="score-display">0</div>
                    <div class="grade-label" id="grade-label">G</div>
                    <div class="mt-3">
                        <table class="table table-sm table-bordered">
                            <thead>
                                <tr>
                                    <th>Ball</th>
                                    <th>Baholash</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>520-650</td>
                                    <td>A</td>
                                </tr>
                                <tr>
                                    <td>420-519</td>
                                    <td>B</td>
                                </tr>
                                <tr>
                                    <td>340-419</td>
                                    <td>C</td>
                                </tr>
                                <tr>
                                    <td>260-339</td>
                                    <td>D</td>
                                </tr>
                                <tr>
                                    <td>170-259</td>
                                    <td>E</td>
                                </tr>
                                <tr>
                                    <td>100-169</td>
                                    <td>F</td>
                                </tr>
                                <tr>
                                    <td>0-99</td>
                                    <td>G</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="category-list mt-4">
                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            <h5 class="mb-0">Kategoriyalar</h5>
                        </div>
                        <div class="card-body p-0">
                            <div class="list-group list-group-flush" id="category-list">
                                <!-- Kategoriyalar ro'yxati bu yerda yaratiladi -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // JSON ma'lumotlarini yuklash
        let categoriesData = [];
        
        // JSON strukturasi noto'g'ri bo'lsa, uni to'g'rilash funktsiyasi
        function fixJsonStructure(data) {
            const fixedData = [];
            
            if (data && data.category) {
                data.category.forEach(category => {
                    const fixedCategory = {
                        name: category.name || "Noma'lum kategoriya",
                        select: [],
                        checkbox: []
                    };
                    
                    // Barcha select va checkbox larni to'g'ri joylashtirish
                    Object.keys(category).forEach(key => {
                        if (key === 'select' || key === 'checkbox') {
                            if (Array.isArray(category[key])) {
                                category[key].forEach(item => {
                                    if (item && item.question) {
                                        fixedCategory[key].push(item);
                                    }
                                });
                            }
                        }
                    });
                    
                    fixedData.push(fixedCategory);
                });
            }
            
            return fixedData;
        }
        
        // JSON faylini yuklash
        fetch('yashil.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(data => {
                console.log('JSON yuklandi:', data);
                categoriesData = fixJsonStructure(data);
                initializeApp();
            })
            .catch(error => {
                console.error('JSON faylini yuklashda xatolik:', error);
                // Agar JSON fayl yuklanmasa, standart ma'lumotlardan foydalanish
                categoriesData = [

                ];
                initializeApp();
            });
        
        // Dasturni ishga tushirish
        function initializeApp() {
            // O'zgaruvchilar
            let currentCategoryIndex = 0;
            let currentQuestionIndex = 0;
            let userAnswers = {};
            let totalScore = 0;
            let isCompleted = false;
            
            // Kategoriyalar ro'yxatini yaratish
            function createCategoryList() {
                const categoryList = document.getElementById('category-list');
                categoryList.innerHTML = '';
                
                categoriesData.forEach((category, index) => {
                    const categoryItem = document.createElement('div');
                    categoryItem.className = `list-group-item category-item ${index === currentCategoryIndex ? 'active' : ''}`;
                    
                    const answeredCount = getAnsweredQuestionsInCategory(index);
                    const totalCount = getTotalQuestionsInCategory(index);
                    const progressPercent = totalCount > 0 ? (answeredCount / totalCount) * 100 : 0;
                    
                    categoryItem.innerHTML = `
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <i class="bi bi-folder-fill text-primary me-2"></i>
                                <strong>${category.name}</strong>
                            </div>
                            <div>
                                <span class="badge bg-secondary me-2">${answeredCount}/${totalCount}</span>
                                <div class="progress category-progress" style="width: 60px;">
                                    <div class="progress-bar" role="progressbar" style="width: ${progressPercent}%"></div>
                                </div>
                            </div>
                        </div>
                    `;
                    categoryItem.addEventListener('click', () => {
                        currentCategoryIndex = index;
                        currentQuestionIndex = 0;
                        updateCategoryList();
                        loadCategoryQuestions();
                    });
                    categoryList.appendChild(categoryItem);
                });
            }
            
            // Kategoriyadagi savollar sonini olish
            function getCategoryQuestionCount(category) {
                let count = 0;
                if (category.select) count += category.select.length;
                if (category.checkbox) count += category.checkbox.length;
                return count;
            }
            
            // Kategoriyalar ro'yxatini yangilash
            function updateCategoryList() {
                const categoryItems = document.querySelectorAll('.category-item');
                categoryItems.forEach((item, index) => {
                    if (index === currentCategoryIndex) {
                        item.classList.add('active');
                    } else {
                        item.classList.remove('active');
                    }
                });
            }
            
            // Kategoriya savollarini yuklash
            function loadCategoryQuestions() {
                const currentCategory = categoriesData[currentCategoryIndex];
                document.getElementById('current-category').textContent = currentCategory.name;
                
                // Savollar konteynerini tozalash
                const questionContainer = document.getElementById('question-container');
                questionContainer.innerHTML = '';
                
                // Progress barlarni yangilash
                updateProgressBars();
                
                // Agar kategoriyada savollar bo'lsa
                if (currentCategory.select || currentCategory.checkbox) {
                    // Qadam indikatorini yaratish
                    createStepIndicator();
                    
                    // Joriy savolni ko'rsatish
                    showCurrentQuestion();
                } else {
                    questionContainer.innerHTML = `
                        <div class="alert alert-info text-center">
                            <i class="bi bi-info-circle fs-4"></i>
                            <p class="mt-2">Ushbu kategoriyada savollar mavjud emas.</p>
                        </div>
                    `;
                    
                    // Tugmalarni o'chirish
                    document.getElementById('prev-btn').style.display = 'none';
                    document.getElementById('next-btn').style.display = 'none';
                }
            }
            
            // Qadam indikatorini yaratish
            function createStepIndicator() {
                const stepIndicator = document.getElementById('step-indicator');
                stepIndicator.innerHTML = '';
                
                const totalQuestions = getTotalQuestionsInCategory(currentCategoryIndex);
                
                for (let i = 0; i < totalQuestions; i++) {
                    const step = document.createElement('div');
                    step.className = `step ${i === currentQuestionIndex ? 'active' : ''} ${i < currentQuestionIndex ? 'completed' : ''}`;
                    stepIndicator.appendChild(step);
                }
            }
            
            // Kategoriyadagi jami savollar sonini olish
            function getTotalQuestionsInCategory(categoryIndex) {
                const category = categoriesData[categoryIndex];
                let count = 0;
                if (category.select) count += category.select.length;
                if (category.checkbox) count += category.checkbox.length;
                return count;
            }
            
            // Joriy savolni ko'rsatish
            function showCurrentQuestion() {
                const currentCategory = categoriesData[currentCategoryIndex];
                const questionContainer = document.getElementById('question-container');
                questionContainer.innerHTML = '';
                
                // Savol raqami
                const questionNumber = document.createElement('h5');
                questionNumber.className = 'mb-3 text-secondary';
                questionNumber.textContent = `Savol ${currentQuestionIndex + 1}/${getTotalQuestionsInCategory(currentCategoryIndex)}`;
                questionContainer.appendChild(questionNumber);
                
                // Savolni ko'rsatish
                const question = getCurrentQuestion();
                if (!question) {
                    showFinalResults();
                    return;
                }
                
                const questionCard = document.createElement('div');
                questionCard.className = 'question-container';
                
                // Savol matni
                const questionText = document.createElement('h6');
                questionText.className = 'mb-3';
                questionText.textContent = question.question;
                questionCard.appendChild(questionText);
                
                // Select savoli
                if (question.type === 'select') {
                    const selectGroup = document.createElement('div');
                    selectGroup.className = 'mb-3';
                    
                    question.answer.forEach((option, index) => {
                        const optionDiv = document.createElement('div');
                        optionDiv.className = 'form-check mb-2';
                        
                        const input = document.createElement('input');
                        input.className = 'form-check-input';
                        input.type = 'radio';
                        input.name = `select-${currentCategoryIndex}-${currentQuestionIndex}`;
                        input.id = `option-${currentCategoryIndex}-${currentQuestionIndex}-${index}`;
                        input.value = option.ball;
                        
                        // Agar oldin javob berilgan bo'lsa
                        const answerKey = `${currentCategoryIndex}-${currentQuestionIndex}`;
                        if (userAnswers[answerKey] && userAnswers[answerKey].answer === option.name) {
                            input.checked = true;
                        }
                        
                        input.addEventListener('change', () => {
                            userAnswers[answerKey] = {
                                type: 'select',
                                answer: option.name,
                                score: option.ball
                            };
                            updateScore();
                            updateProgressBars();
                            createCategoryList();
                        });
                        
                        const label = document.createElement('label');
                        label.className = 'form-check-label';
                        label.htmlFor = `option-${currentCategoryIndex}-${currentQuestionIndex}-${index}`;
                        label.textContent = option.name;
                        
                        optionDiv.appendChild(input);
                        optionDiv.appendChild(label);
                        selectGroup.appendChild(optionDiv);
                    });
                    
                    questionCard.appendChild(selectGroup);
                }
                
                // Checkbox savoli
                if (question.type === 'checkbox') {
                    const checkboxGroup = document.createElement('div');
                    checkboxGroup.className = 'mb-3';
                    
                    question.answer.forEach((option, index) => {
                        const optionDiv = document.createElement('div');
                        optionDiv.className = 'form-check mb-2';
                        
                        const input = document.createElement('input');
                        input.className = 'form-check-input';
                        input.type = 'checkbox';
                        input.id = `checkbox-${currentCategoryIndex}-${currentQuestionIndex}-${index}`;
                        input.value = option.status;
                        
                        // Agar oldin javob berilgan bo'lsa
                        const answerKey = `${currentCategoryIndex}-${currentQuestionIndex}`;
                        if (userAnswers[answerKey] && userAnswers[answerKey].answers.includes(option.name)) {
                            input.checked = true;
                        }
                        
                        input.addEventListener('change', () => {
                            if (!userAnswers[answerKey]) {
                                userAnswers[answerKey] = {
                                    type: 'checkbox',
                                    answers: [],
                                    score: 0
                                };
                            }
                            
                            if (input.checked) {
                                userAnswers[answerKey].answers.push(option.name);
                            } else {
                                const answerIndex = userAnswers[answerKey].answers.indexOf(option.name);
                                if (answerIndex > -1) {
                                    userAnswers[answerKey].answers.splice(answerIndex, 1);
                                }
                            }
                            
                            // Ballarni hisoblash
                            const checkedCount = userAnswers[answerKey].answers.length;
                            userAnswers[answerKey].score = calculateCheckboxScore(checkedCount, question.ball);
                            
                            updateScore();
                            updateProgressBars();
                            createCategoryList();
                        });
                        
                        const label = document.createElement('label');
                        label.className = 'form-check-label';
                        label.htmlFor = `checkbox-${currentCategoryIndex}-${currentQuestionIndex}-${index}`;
                        label.textContent = option.name;
                        
                        optionDiv.appendChild(input);
                        optionDiv.appendChild(label);
                        checkboxGroup.appendChild(optionDiv);
                    });
                    
                    questionCard.appendChild(checkboxGroup);
                }
                
                questionContainer.appendChild(questionCard);
                
                // Tugmalarni yangilash
                updateNavigationButtons();
            }
            
            // Joriy savolni olish
            function getCurrentQuestion() {
                const currentCategory = categoriesData[currentCategoryIndex];
                let questionIndex = 0;
                
                // Select savollarini tekshirish
                if (currentCategory.select) {
                    for (let i = 0; i < currentCategory.select.length; i++) {
                        if (questionIndex === currentQuestionIndex) {
                            return {
                                type: 'select',
                                ...currentCategory.select[i]
                            };
                        }
                        questionIndex++;
                    }
                }
                
                // Checkbox savollarini tekshirish
                if (currentCategory.checkbox) {
                    for (let i = 0; i < currentCategory.checkbox.length; i++) {
                        if (questionIndex === currentQuestionIndex) {
                            return {
                                type: 'checkbox',
                                ...currentCategory.checkbox[i]
                            };
                        }
                        questionIndex++;
                    }
                }
                
                return null;
            }
            
            // Checkbox ballarini hisoblash
            function calculateCheckboxScore(checkedCount, ballOptions) {
                for (const option of ballOptions) {
                    if (option.status === checkedCount) {
                        return option.ball;
                    }
                }
                return 0;
            }
            
            // Progress barlarni yangilash
            function updateProgressBars() {
                const totalQuestions = getTotalQuestions();
                const answeredQuestions = Object.keys(userAnswers).length;
                const progressPercent = totalQuestions > 0 ? (answeredQuestions / totalQuestions) * 100 : 0;
                
                document.getElementById('progress-bar').style.width = `${progressPercent}%`;
                document.getElementById('progress-percent').textContent = `${Math.round(progressPercent)}%`;
            }
            
            // Jami savollar sonini olish
            function getTotalQuestions() {
                let total = 0;
                categoriesData.forEach(category => {
                    if (category.select) total += category.select.length;
                    if (category.checkbox) total += category.checkbox.length;
                });
                return total;
            }
            
            // Kategoriyadagi javob berilgan savollar sonini olish
            function getAnsweredQuestionsInCategory(categoryIndex) {
                let count = 0;
                const totalQuestions = getTotalQuestionsInCategory(categoryIndex);
                
                for (let i = 0; i < totalQuestions; i++) {
                    const answerKey = `${categoryIndex}-${i}`;
                    if (userAnswers[answerKey]) {
                        count++;
                    }
                }
                
                return count;
            }
            
            // Navigatsiya tugmalarini yangilash
            function updateNavigationButtons() {
                const prevBtn = document.getElementById('prev-btn');
                const nextBtn = document.getElementById('next-btn');
                
                // Oldingi tugma
                if (currentQuestionIndex === 0) {
                    prevBtn.disabled = true;
                } else {
                    prevBtn.disabled = false;
                }
                
                // Keyingi tugma
                const totalQuestions = getTotalQuestionsInCategory(currentCategoryIndex);
                if (currentQuestionIndex === totalQuestions - 1) {
                    if (currentCategoryIndex === categoriesData.length - 1) {
                        nextBtn.textContent = 'Yakunlash';
                    } else {
                        nextBtn.textContent = 'Keyingi kategoriya';
                    }
                } else {
                    nextBtn.textContent = 'Keyingi savol';
                }
            }
            
            // Umumiy ballarni yangilash
            function updateScore() {
                totalScore = 0;
                
                for (const key in userAnswers) {
                    totalScore += userAnswers[key].score;
                }
                
                document.getElementById('score-display').textContent = totalScore;
                
                // Baholash darajasini aniqlash
                let grade = 'G';
                let gradeClass = 'grade-G';
                if (totalScore >= 520) { grade = 'A'; gradeClass = 'grade-A'; }
                else if (totalScore >= 420) { grade = 'B'; gradeClass = 'grade-B'; }
                else if (totalScore >= 340) { grade = 'C'; gradeClass = 'grade-C'; }
                else if (totalScore >= 260) { grade = 'D'; gradeClass = 'grade-D'; }
                else if (totalScore >= 170) { grade = 'E'; gradeClass = 'grade-E'; }
                else if (totalScore >= 100) { grade = 'F'; gradeClass = 'grade-F'; }
                
                document.getElementById('grade-label').textContent = grade;
                document.getElementById('grade-label').className = `grade-label ${gradeClass}`;
                
                // Gauge ni yangilash
                updateGauge(totalScore);
            }
            
            // Gauge ni yangilash
            function updateGauge(score) {
                const maxScore = 650;
                const percentage = Math.min(score / maxScore, 1);
                const rotation = percentage * 180; // Yarim aylana (0-180 daraja)
                
                document.getElementById('gauge-fill').style.transform = `rotate(${rotation}deg)`;
                document.getElementById('gauge-needle').style.transform = `rotate(${rotation}deg)`;
            }
            
            // Yakuniy natijalarni ko'rsatish
            function showFinalResults() {
                isCompleted = true;
                
                const questionContainer = document.getElementById('question-container');
                questionContainer.innerHTML = '';
                
                const resultsDiv = document.createElement('div');
                resultsDiv.className = 'final-results';
                
                let grade = 'G';
                let gradeClass = 'grade-G';
                if (totalScore >= 520) { grade = 'A'; gradeClass = 'grade-A'; }
                else if (totalScore >= 420) { grade = 'B'; gradeClass = 'grade-B'; }
                else if (totalScore >= 340) { grade = 'C'; gradeClass = 'grade-C'; }
                else if (totalScore >= 260) { grade = 'D'; gradeClass = 'grade-D'; }
                else if (totalScore >= 170) { grade = 'E'; gradeClass = 'grade-E'; }
                else if (totalScore >= 100) { grade = 'F'; gradeClass = 'grade-F'; }
                
                resultsDiv.innerHTML = `
                    <div class="alert alert-success">
                        <h2><i class="bi bi-trophy-fill"></i> Tabriklaymiz!</h2>
                        <p>Barcha savollarga javob berdingiz.</p>
                    </div>
                    <div class="final-score">${totalScore} ball</div>
                    <div class="final-grade ${gradeClass}">${grade} baho</div>
                    <div class="mt-4">
                        <button id="restart-btn" class="btn btn-primary btn-lg">
                            <i class="bi bi-arrow-repeat"></i> Qaytadan boshlash
                        </button>
                    </div>
                `;
                
                questionContainer.appendChild(resultsDiv);
                
                document.getElementById('prev-btn').style.display = 'none';
                document.getElementById('next-btn').style.display = 'none';
                
                // Qaytadan boshlash tugmasi
                document.getElementById('restart-btn').addEventListener('click', () => {
                    currentCategoryIndex = 0;
                    currentQuestionIndex = 0;
                    userAnswers = {};
                    totalScore = 0;
                    isCompleted = false;
                    createCategoryList();
                    loadCategoryQuestions();
                    updateScore();
                    document.getElementById('prev-btn').style.display = 'block';
                    document.getElementById('next-btn').style.display = 'block';
                });
            }
            
            // Dasturni ishga tushirish
            function init() {
                createCategoryList();
                loadCategoryQuestions();
                updateScore();
                
                // Navigatsiya tugmalariga hodisa qo'shish
                document.getElementById('prev-btn').addEventListener('click', () => {
                    if (currentQuestionIndex > 0) {
                        currentQuestionIndex--;
                        showCurrentQuestion();
                    }
                });
                
                document.getElementById('next-btn').addEventListener('click', () => {
                    const totalQuestions = getTotalQuestionsInCategory(currentCategoryIndex);
                    
                    if (currentQuestionIndex < totalQuestions - 1) {
                        currentQuestionIndex++;
                        showCurrentQuestion();
                    } else {
                        // Keyingi kategoriyaga o'tish
                        if (currentCategoryIndex < categoriesData.length - 1) {
                            currentCategoryIndex++;
                            currentQuestionIndex = 0;
                            createCategoryList();
                            loadCategoryQuestions();
                        } else {
                            // Barcha kategoriyalar yakunlandi
                            showFinalResults();
                        }
                    }
                });
            }
            
            // Dasturni ishga tushirish
            init();
        }
    </script>


























            
        </div>
        <!-- content close -->
        <!-- footer begin -->
        <footer class="section-dark">
 
            <div class="subfooter">
                <div class="container">

                </div>
            </div>
        </footer>
        <!-- footer close -->
    </div>
    
    <!-- Javascript Files
    ================================================== -->
    <script src="js/plugins.js"></script>
    <script src="js/designesia.js"></script>

</body>


<!-- Mirrored from madebydesignesia.com/themes/coolair/project-single.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 03 Oct 2025 05:13:57 GMT -->
</html>